<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

<div class="fullpage">
    <h3 class="h3">Mã giảm giá</h3>
    <button>+ Thêm mã giảm giá mới</button>
    <br>
    <div class="container">
        <div class="container_item">
            <div class="tieude">
                <h4 class="h4" (click)="showContent('tat-ca-ma-giam-gia')" [ngClass]="{ 'selected': selectedbar === 'tat-ca-ma-giam-gia' }">Tất cả mã giảm giá</h4>
                <h4 class="h4" (click)="showContent('dang-ap-dung')" [ngClass]="{ 'selected': selectedbar === 'dang-ap-dung' }">Đang áp dụng</h4>
                <h4 class="h4" (click)="showContent('da-len-lich')" [ngClass]="{ 'selected': selectedbar === 'da-len-lich' }">Đã lên lịch</h4>
                <h4 class="h4" (click)="showContent('da-het-han')" [ngClass]="{ 'selected': selectedbar === 'da-het-han' }">Đã hết hạn</h4>
            </div>
        </div>
        <div class="container_item">
            <label for="show">Hiển thị: 
                <input style="text-align: center" class="show" id="show" min="1" max="200" name="show" value="1" type="number" onchange="loadJson()">
            </label>
        </div>
        <div class="container_item">
            <button>Thêm điều kiện lọc</button>
            <input type="text" placeholder="Tìm kiếm">
        </div>
        <div class="container_item">
            <div *ngIf="selectedbar === 'tat-ca-ma-giam-gia'">
                <table>
                    <tr>
                        <th>Ngày tạo</th>
                        <th>Mã giảm giá</th>
                        <th>Ưu đãi</th>
                        <th>Trạng thái</th>
                        <th>Chi tiết</th>
                    </tr>
                    <tbody>
                        <td></td>
                        <td>Cốc thủy tinh 300ml</td>
                        <td>Đồ trang trí</td>
                        <td>Bank</td>
                        <td></td>
                    </tbody>
                </table>
            </div>
            <div *ngIf="selectedbar === 'dang-ap-dung'">
                <table>
                    <tr>
                        <th>Mã</th>
                        <th>Ngày tạo</th>
                        <th>Khách hàng</th>
                        <th>Phương thức</th>
                        <th>Tổng tiền</th>
                        <th>Xử lý </th>
                    </tr>
                    <tbody>
                        <td>#11432</td>
                        <td>10/11/2023</td>
                        <td>Đặng Thanh Trúc</td>
                        <td>Bank</td>
                        <td>200.000đ</td>
                        <td><i class="bi bi-check-circle-fill"></i><i class="bi bi-x-circle-fill" (click)="openPopup()"></i></td>
                    </tbody>
                </table>
            </div>
            <div class="overlay" *ngIf="showOverlay"></div>
            <div class="popup" *ngIf="showSuccessPopup">
                <p class="p">Đã lưu thông tin thành công!</p>
                <button class="p" (click)="closePopup()">Đóng</button>
            </div>
            <div class="popup" *ngIf="reasonPopup">
                <h2 class="h2">Thêm lý do từ chối</h2>
                <textarea class="p" id="reason" placeholder="Nhập lý do từ chối..." [(ngModel)]="reason"></textarea>
                <br>
                <button class="p" (click)="addReason()">Cập nhật</button>
                <button class="p" (click)="closePopup()">Đóng</button>
            </div>
        </div>
    </div>
</div>